/**
 * map
 */function makeMarker(e){var t=new google.maps.Marker({map:map,shadow:shadow,shape:shape});t.setOptions(e);var n='<div class="pp-place-title">'+e.title+"</div>"+'<div dir="ltr" class="pp-headline-item pp-headline-address">'+e.address+",<br/>"+e.suite+e.city+", "+e.state+" "+e.zip+"</div>"+'<div class="pp-headline-item pp-headline-phone">'+e.phone1+e.phone2+e.fax+'<span style="display:none" class="pp-headline-phone-label"> ()</span></span>  &lrm; </div>'+'<div class="pp-headline-item pp-headline-hours">'+e.hours+"</div>"+'<div><a href="http://maps.google.com/?daddr='+e.address+" "+e.city+", "+e.state+" "+e.zip+'" target="_blank">Get Directions</a></div>';google.maps.event.addListener(t,"click",function(){infoWindow.setOptions({content:n,maxWidth:200});infoWindow.open(map,t);this.sidebarButton&&this.sidebarButton.button.focus()});t.getIcon();t.sidebarButton=new SidebarItem(t,e);t.sidebarButton.addIn("sidebar");markersArray.push(t);return t}function SidebarItem(e,t){var n="div",r=document.createElement(n),i='<div class="highlightMarker"><div class="popover top"><div class="arrow"></div><div class="popover-content">'+t.letter+"</div>"+"</div>"+'<div class="vcard">'+'<div class="pp-place-title">'+t.title+"</div>"+'<div class="pp-headline-item pp-headline-address" dir="ltr">'+t.address+"<br/>"+t.city+", "+t.state+"</div>"+"</div>"+"</div>";r.innerHTML=i;r.className="sidebar_item";r.style.display="block";r.onclick=function(){google.maps.event.trigger(e,"click")};r.onmouseover=function(){google.maps.event.trigger(e,"mouseover")};r.onmouseout=function(){google.maps.event.trigger(e,"mouseout")};this.button=r}function placeMarkers(e){var t=0;$.get(e,function(e){$(e).find("marker").each(function(){var e=$(this).find("lat").text(),n=$(this).find("lng").text(),r=new google.maps.LatLng(parseFloat(e),parseFloat(n)),i=$(this).find("title").text(),s=$(this).find("address").text(),o=$(this).find("suite").text();if(o.length)var o=o+",<br/>";var u=$(this).find("city").text(),a=$(this).find("state").text(),f=$(this).find("zip").text(),l=$(this).find("phone1").text(),c=$(this).find("phone2").text();if(c.length)var c="<br/>"+c;var h=$(this).find("fax").text();if(h.length)var h="<br/>FAX "+h;var p=$(this).find("hours").text();if(t==0)var d=imageA,v="A";if(t==1)var d=imageB,v="B";if(t==2)var d=imageC,v="C";if(t==3)var d=imageD,v="D";if(t==4)var d=imageE,v="E";if(t==5)var d=imageF,v="F";if(t==6)var d=imageG,v="G";if(t==7)var d=imageH,v="H";if(t==8)var d=imageI,v="I";if(t==9)var d=imageJ,v="J";var m={animation:google.maps.Animation.DROP,icon:d,letter:v,position:r,title:i,address:s,suite:o,city:u,state:a,zip:f,phone1:l,phone2:c,fax:h,hours:p};setTimeout(function(){makeMarker(m)},400);t++;markerBounds.extend(r);map.fitBounds(markerBounds)})})}function deleteOverlays(e){if(markersArray){for(i in markersArray)markersArray[i].setMap(null);$("#map_sidebar").html("");markerBounds=new google.maps.LatLngBounds(null);placeMarkers(e)}else placeMarkers(e)}var imageA=new google.maps.MarkerImage("../images/marker-images/sprite.png",new google.maps.Size(24,38),new google.maps.Point(0,0),new google.maps.Point(12,38)),imageB=new google.maps.MarkerImage("../images/marker-images/sprite.png",new google.maps.Size(24,38),new google.maps.Point(0,40),new google.maps.Point(12,38)),imageC=new google.maps.MarkerImage("../images/marker-images/sprite.png",new google.maps.Size(24,38),new google.maps.Point(0,80),new google.maps.Point(12,38)),imageD=new google.maps.MarkerImage("../images/marker-images/sprite.png",new google.maps.Size(24,38),new google.maps.Point(0,120),new google.maps.Point(12,38)),imageE=new google.maps.MarkerImage("../images/marker-images/sprite.png",new google.maps.Size(24,38),new google.maps.Point(0,160),new google.maps.Point(12,38)),imageF=new google.maps.MarkerImage("../images/marker-images/sprite.png",new google.maps.Size(24,38),new google.maps.Point(0,200),new google.maps.Point(12,38)),imageG=new google.maps.MarkerImage("../images/marker-images/sprite.png",new google.maps.Size(24,38),new google.maps.Point(0,240),new google.maps.Point(12,38)),imageH=new google.maps.MarkerImage("../images/marker-images/sprite.png",new google.maps.Size(24,38),new google.maps.Point(0,280),new google.maps.Point(12,38)),imageI=new google.maps.MarkerImage("../images/marker-images/sprite.png",new google.maps.Size(24,38),new google.maps.Point(0,320),new google.maps.Point(12,38)),imageJ=new google.maps.MarkerImage("../images/marker-images/sprite.png",new google.maps.Size(24,38),new google.maps.Point(0,360),new google.maps.Point(12,38)),shadow=new google.maps.MarkerImage("../images/marker-images/shadow.png",new google.maps.Size(46,38),new google.maps.Point(0,0),new google.maps.Point(12,38)),shape={coord:[23,0,23,1,23,2,23,3,23,4,23,5,23,6,23,7,23,8,23,9,23,10,23,11,23,12,23,13,23,14,23,15,23,16,23,17,23,18,23,19,23,20,23,21,23,22,23,23,23,24,23,25,23,26,23,27,23,28,16,29,15,30,15,31,14,32,14,33,13,34,13,35,12,36,12,37,11,37,11,36,10,35,10,34,9,33,9,32,8,31,8,30,7,29,0,28,0,27,0,26,0,25,0,24,0,23,0,22,0,21,0,20,0,19,0,18,0,17,0,16,0,15,0,14,0,13,0,12,0,11,0,10,0,9,0,8,0,7,0,6,0,5,0,4,0,3,0,2,0,1,0,0,23,0],type:"poly"},infoWindow=new google.maps.InfoWindow,markerBounds=new google.maps.LatLngBounds,markersArray=[],iterator=0,mapOpts={mapTypeId:google.maps.MapTypeId.ROADMAP,scaleControl:!0,scrollwheel:!1},map=new google.maps.Map(document.getElementById("map_canvas"),mapOpts);google.maps.event.addListener(map,"click",function(){infoWindow.close()});SidebarItem.prototype.addIn=function(){this.div=document.getElementById("map_sidebar");this.div.appendChild(this.button)};$(document).ready(function(){$(".js-washingtonMarkers").click(function(){deleteOverlays("/assets/js/xml/washington.xml")});$(".js-oregonMarkers").click(function(){deleteOverlays("/assets/js/xml/oregon.xml")});$(".js-idahoMarkers").click(function(){deleteOverlays("/assets/js/xml/idaho.xml")});$(".js-utahMarkers").click(function(){deleteOverlays("/assets/js/xml/utah.xml")})});